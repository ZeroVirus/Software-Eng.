<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">

<script type="text/javascript" src="https://www.google.com/jsapi"></script>
<script language="javascript">

function Town(population) {
	var people = new Array(population);
	var i,count=0;
	var strats = new Array(3);
	for (i=0;i<population;i++) {
		strats[0] = Math.random(); strats[1] = Math.random(); strats[2] = Math.random();
		people[i] = (strats[0]+strats[1]+strats[2])/3;
		if (people[i] > 0.5)
			count++;
	}
	return count;	
}

function main(form) {
	var newvar = form.numAgent.value;
	var turnvar = form.numTurns.value;
	var j;
	var arr = new Array(turnvar);
	var arr2 = new Array(turnvar+1)
	arr2[0]=["turn","bar"];
	for (j=0;j<turnvar;j++) {
		arr[j] = Town(newvar);
		arr[j+1]=[j,arr[j]];
		
	}
	
	for (j=0;j<turnvar;j++) {
		alert(arr[j]);
	}	
}

google.load("visualization", "1", {packages:["corechart"]});
      google.setOnLoadCallback(drawChart);
      function drawChart() {
        var data = google.visualization.arrayToDataTable(arr2);

        var options = {
          title: 'Age vs. Weight comparison',
          hAxis: {title: 'Age', minValue: 0, maxValue: 15},
          vAxis: {title: 'Weight', minValue: 0, maxValue: 15},
          legend: 'none'
        };
</script>



<head>
<html>
<title> B.A.R.G.A.M.E. </title>
 <style type="text/css">
  body { color: black}
  body { background-color: #CCBB99 }
  </style>
</head>

<body>
<h1> Welcome to the BARGAME Web app.</h1>
<h4>Powered by Python</h4>


<form action="" method="GET" name="bargame"> 
 <table border="0" >
 <tr><b>Bar Capacity </b></br>
 </tr>
 <tr>
 <td><input type="radio" name="Bars_based" value="PercentBased"/> Percent Based: </td><td><input type ="text" name="percentBars" size="5 "/></td>
 </tr>
 </table>
 
</br>
   <b>Population Variables </b></br>  
<table border="0" >
<tr>
<td>Number of Agents: </td><td><input type="text" name="numAgent" size="15" /></td>
</tr>
<tr>
<td>Number Of Turns: </td><td><input type="text" name="numTurns" size="15" /></td>
</table>
</br>
 <input type="submit" onclick="main(this.form)" value="Simulate!" />
 </form>

	<div id="chart_div" style="width: 900px; height: 500px;"></div>
	
	




 </body>
</html>